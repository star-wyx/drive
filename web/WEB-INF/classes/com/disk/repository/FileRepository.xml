<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.disk.repository.FileRepository">

    <insert id="uploadFile" parameterType="map">
        insert into netdisk.file values (null,#{file_name},#{file_path}, #{store_path}, #{upload_time,jdbcType=TIMESTAMP},#{uid},#{dir_id})
    </insert>

    <select id="queryFileByDir" parameterType="map" resultType="File">
        select id, file_name, file_path, store_path, upload_time, uid, dir_id from netdisk.file where dir_id=#{parent_id}
    </select>

    <select id="queryFileByDirAndName" resultType="File">
        select id, file_name, file_path, store_path, upload_time, uid, dir_id from netdisk.file where dir_id = #{dir_id} and file_name = #{file_name};
    </select>


</mapper>